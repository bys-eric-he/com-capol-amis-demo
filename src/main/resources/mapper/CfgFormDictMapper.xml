<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.capol.amis.mapper.CfgFormDictMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.capol.amis.entity.CfgFormDictDO">
        <id column="id" property="id" />
        <result column="table_name" property="tableName" />
        <result column="field_name" property="fieldName" />
        <result column="dict_label" property="dictLabel" />
        <result column="dict_value" property="dictValue" />
        <result column="order_no" property="orderNo" />
        <result column="status" property="status" />
        <result column="creator" property="creator" />
        <result column="creator_id" property="creatorId" />
        <result column="created_host_ip" property="createdHostIp" />
        <result column="last_operator" property="lastOperator" />
        <result column="last_operator_id" property="lastOperatorId" />
        <result column="update_host_ip" property="updateHostIp" />
        <result column="create_time" property="createTime" />
        <result column="update_time" property="updateTime" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        `id`,
        `table_name`,
        `field_name`,
        `dict_label`,
        `dict_value`,
        `order_no`,
        `status`,
        `creator`,
        `creator_id`,
        `created_host_ip`,
        `last_operator`,
        `last_operator_id`,
        `update_host_ip`,
        `create_time`,
        `update_time`
    </sql>
    <select id="getDictByTableName" resultMap="BaseResultMap">
        SELECT
            `id`,
            `table_name`,
            `field_name`,
            `dict_label`,
            `dict_value`,
            `order_no`,
            `status`,
            `creator`,
            `creator_id`,
            `created_host_ip`,
            `last_operator`,
            `last_operator_id`,
            `update_host_ip`,
            `create_time`,
            `update_time`
        FROM
            cfg_form_dict
        WHERE
            status = 1
          AND table_name =
              #{tableName}
    </select>
</mapper>
