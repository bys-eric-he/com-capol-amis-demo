
/**
 * 创建数据库db_amis_demo
 */
CREATE DATABASE IF NOT EXISTS `db_amis_demo` CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

/*
 * 业务主题基本信息 
 * */
DROP TABLE IF EXISTS `cfg_business_subject`;

CREATE TABLE `cfg_business_subject` (
	`id` bigint(20) NOT NULL COMMENT '主键ID',
	`enterprise_id` bigint(20) NOT NULL COMMENT '企业ID',
	`project_id` bigint(20) NOT NULL COMMENT '项目ID',
	`subject_id` bigint(20) NOT NULL COMMENT '业务主题ID',
	`subject_name` varchar(50) DEFAULT NULL COMMENT '业务主题名称',
	`config_json` mediumtext COMMENT 'JSON配置信息',
	`status` tinyint(1) DEFAULT '1' COMMENT '1：正常，0：已删除',
	`creator` varchar(20) DEFAULT NULL COMMENT '创建人',
	`creator_id` bigint(20) DEFAULT NULL COMMENT '创建人id',
	`created_host_ip` varchar(50) DEFAULT NULL COMMENT '创建人IP',
	`last_operator` varchar(20) DEFAULT NULL COMMENT '最后操作人 ',
	`last_operator_id` bigint(20) DEFAULT NULL COMMENT '最后操作人id ',
	`update_host_ip` varchar(50) DEFAULT NULL COMMENT '更新人IP ',
	`create_time` datetime DEFAULT NOW() COMMENT '创建时间',
	`update_time` datetime DEFAULT NOW() COMMENT '更新时间',
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT="业务主题基本信息";


/**
 * 业务主题表单配置表
 */
DROP TABLE IF EXISTS `t_template_form_conf`;

CREATE TABLE `t_template_form_conf` (
	`id` bigint(20) NOT NULL COMMENT '主键ID',
	`enterprise_id` bigint(20) NOT NULL COMMENT '企业ID',
	`project_id` bigint(20) NOT NULL COMMENT '项目ID',
	`subject_id` bigint(20) DEFAULT NULL COMMENT '业务主题ID',
	`field_key` varchar(200) DEFAULT NULL COMMENT '字段标识',
	`field_alias` varchar(200) DEFAULT NULL COMMENT '字段别名',
	`field_name` varchar(200) DEFAULT NULL COMMENT '字段名称',
	`field_type` varchar(20) DEFAULT NULL COMMENT '字段类型',
	`field_order` int(10) DEFAULT 0 COMMENT '字段顺序',
	`status` tinyint(1) DEFAULT '1' COMMENT '1：正常，0：已删除',
	`creator` varchar(20) DEFAULT NULL COMMENT '创建人',
	`creator_id` bigint(20) DEFAULT NULL COMMENT '创建人id',
	`created_host_ip` varchar(50) DEFAULT NULL COMMENT '创建人IP',
	`last_operator` varchar(20) DEFAULT NULL COMMENT '最后操作人 ',
	`last_operator_id` bigint(20) DEFAULT NULL COMMENT '最后操作人id ',
	`update_host_ip` varchar(50) DEFAULT NULL COMMENT '更新人IP ',
	`create_time` datetime DEFAULT NOW() COMMENT '创建时间',
	`update_time` datetime DEFAULT NOW() COMMENT '更新时间',
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT="业务主题表单配置表";



/**
 * 业务主题列表配置表
 */
DROP TABLE IF EXISTS `t_template_grid_conf`;

CREATE TABLE `t_template_grid_conf` (
	`id` bigint(20) NOT NULL COMMENT '主键ID',
	`enterprise_id` bigint(20) NOT NULL COMMENT '企业ID',
	`project_id` bigint(20) NOT NULL COMMENT '项目ID',
	`subject_id` bigint(20) DEFAULT NULL COMMENT '业务主题ID',
	`field_key` varchar(200) DEFAULT NULL COMMENT '字段标识',
	`field_alias` varchar(200) DEFAULT NULL COMMENT '字段别名',
	`field_name` varchar(200) DEFAULT NULL COMMENT '字段名称',
	`field_type` varchar(20) DEFAULT NULL COMMENT '字段类型',
	`field_order` int(10) DEFAULT 0 COMMENT '字段顺序',
	`status` tinyint(1) DEFAULT '1' COMMENT '1：正常，0：已删除',
	`creator` varchar(20) DEFAULT NULL COMMENT '创建人',
	`creator_id` bigint(20) DEFAULT NULL COMMENT '创建人id',
	`created_host_ip` varchar(50) DEFAULT NULL COMMENT '创建人IP',
	`last_operator` varchar(20) DEFAULT NULL COMMENT '最后操作人 ',
	`last_operator_id` bigint(20) DEFAULT NULL COMMENT '最后操作人id ',
	`update_host_ip` varchar(50) DEFAULT NULL COMMENT '更新人IP ',
	`create_time` datetime DEFAULT NOW() COMMENT '创建时间',
	`update_time` datetime DEFAULT NOW() COMMENT '更新时间',
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT="业务主题列表配置表";



/**
 * 业务主题表单数据表
 */
DROP TABLE IF EXISTS `t_template_form_data`;

CREATE TABLE `t_template_form_data` (
	`id` bigint(20) NOT NULL COMMENT '主键ID',
	`template_id` bigint(20) NOT NULL COMMENT '表单配置ID',
	`enterprise_id` bigint(20) NOT NULL COMMENT '企业ID',
	`project_id` bigint(20) NOT NULL COMMENT '项目ID',
	`subject_id` bigint(20) DEFAULT NULL COMMENT '业务主题ID',
	`field_key` varchar(200) DEFAULT NULL COMMENT '字段标识',
	`field_alias` varchar(200) DEFAULT NULL COMMENT '字段别名',
	`field_name` varchar(200) DEFAULT NULL COMMENT '字段名称',
	`field_type` varchar(20) DEFAULT NULL COMMENT '字段类型',
	`field_string_value` varchar(500) DEFAULT NULL COMMENT '字符串值',
	`field_number_value` bigint(50) DEFAULT NULL COMMENT '数字值',
	`field_text_value` text DEFAULT NULL COMMENT '描述性值',
	`field_hash_value` bigint(100) DEFAULT '1' COMMENT '值hash',
	`status` tinyint(1) DEFAULT '1' COMMENT '1：正常，0：已删除',
	`creator` varchar(20) DEFAULT NULL COMMENT '创建人',
	`creator_id` bigint(20) DEFAULT NULL COMMENT '创建人id',
	`created_host_ip` varchar(50) DEFAULT NULL COMMENT '创建人IP',
	`last_operator` varchar(20) DEFAULT NULL COMMENT '最后操作人 ',
	`last_operator_id` bigint(20) DEFAULT NULL COMMENT '最后操作人id ',
	`update_host_ip` varchar(50) DEFAULT NULL COMMENT '更新人IP ',
	`create_time` datetime DEFAULT NOW() COMMENT '创建时间',
	`update_time` datetime DEFAULT NOW() COMMENT '更新时间',
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT="业务主题表单数据表";



/**
 * 业务主题列表数据表
 */
DROP TABLE IF EXISTS `t_template_grid_data`;

CREATE TABLE `t_template_grid_data` (
	`id` bigint(20) NOT NULL COMMENT '主键ID',
	`template_id` bigint(20) NOT NULL COMMENT '表单配置ID',
	`enterprise_id` bigint(20) NOT NULL COMMENT '企业ID',
	`project_id` bigint(20) NOT NULL COMMENT '项目ID',
	`subject_id` bigint(20) DEFAULT NULL COMMENT '业务主题ID',
	`field_key` varchar(200) DEFAULT NULL COMMENT '字段标识',
	`field_alias` varchar(200) DEFAULT NULL COMMENT '字段别名',
	`field_name` varchar(200) DEFAULT NULL COMMENT '字段名称',
	`field_type` varchar(20) DEFAULT NULL COMMENT '字段类型',
	`field_string_value` varchar(500) DEFAULT NULL COMMENT '字符串值',
	`field_number_value` bigint(50) DEFAULT NULL COMMENT '数字值',
	`field_text_value` text DEFAULT NULL COMMENT '描述性值',
	`field_hash_value` bigint(100) DEFAULT '1' COMMENT '值hash',
	`status` tinyint(1) DEFAULT '1' COMMENT '1：正常，0：已删除',
	`creator` varchar(20) DEFAULT NULL COMMENT '创建人',
	`creator_id` bigint(20) DEFAULT NULL COMMENT '创建人id',
	`created_host_ip` varchar(50) DEFAULT NULL COMMENT '创建人IP',
	`last_operator` varchar(20) DEFAULT NULL COMMENT '最后操作人 ',
	`last_operator_id` bigint(20) DEFAULT NULL COMMENT '最后操作人id ',
	`update_host_ip` varchar(50) DEFAULT NULL COMMENT '更新人IP ',
	`create_time` datetime DEFAULT NOW() COMMENT '创建时间',
	`update_time` datetime DEFAULT NOW() COMMENT '更新时间',
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT="业务主题列表数据表";